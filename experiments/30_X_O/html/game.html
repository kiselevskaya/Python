<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="wsc_client.js"></script>
    <script type="text/javascript" src="countdown.js"></script>
    <script type="text/javascript" src="game.js"></script>
    <title>X_O</title>
</head>
<body>

    <div id="data">
    </div>

    <div id="field">
    </div>

    <script>
        var params = (new URL(document.location)).searchParams;

        if (params.has("username") && params.has("password")) {
            const game = new Countdown("data", params.get("username"));
            const websocketConnection = new WebSocketConnection(
                    params.get("username"),
                    params.get("password"),
                    game);
            game.setWebsocketConnection(websocketConnection);
        } else {
            document.getElementById("data").innerHTML = "Bad page request please start from index";
        }
    </script>

    <footer>
        <a href="/"><b>Log off</b></a>
    </footer>
</body>
</html>
